<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Modern and Flexible Data Pipeline for SurveyCTO • ctoclient</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Modern and Flexible Data Pipeline for SurveyCTO">
<meta name="description" content="A modern and flexible R client for the SurveyCTO, a mobile and offline data collection platform, providing a modern and consistent interface for programmatic access to server resources. Built on top of the httr2 package, it enables secure and efficient data retrieval and returns analysis-ready data through optional tidying. It includes functions to create, upload, and download server datasets, in addition to fetching form data, files, and submission attachments. Robust authentication and request handling make the package suitable for automated survey monitoring and downstream analysis.">
<meta property="og:description" content="A modern and flexible R client for the SurveyCTO, a mobile and offline data collection platform, providing a modern and consistent interface for programmatic access to server resources. Built on top of the httr2 package, it enables secure and efficient data retrieval and returns analysis-ready data through optional tidying. It includes functions to create, upload, and download server datasets, in addition to fetching form data, files, and submission attachments. Robust authentication and request handling make the package suitable for automated survey monitoring and downstream analysis.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ctoclient</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/guturago/ctoclient/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ctoclient-a-modern-and-flexible-data-pipeline-for-surveycto">ctoclient: A Modern and Flexible Data Pipeline for ‘SurveyCTO’<a class="anchor" aria-label="anchor" href="#ctoclient-a-modern-and-flexible-data-pipeline-for-surveycto"></a>
</h1></div>
<!-- badges: start -->

<p>A modern and flexible R client for the <a href="https://developer.surveycto.com/" class="external-link">SurveyCTO REST API</a>, a mobile and offline data collection platform, providing a modern and consistent interface for programmatic access to server resources. Built on top of the <a href="https://httr2.r-lib.org/" class="external-link">httr2 package</a>, it enables secure and efficient data retrieval and returns analysis-ready data through optional tidying. It includes functions to create, upload, and download server datasets, in addition to fetching form data, files, and submission attachments. Robust authentication and request handling make the package suitable for automated survey monitoring and downstream analysis.</p>
<p>This package is built with robustness and efficiency in mind, aiming to streamline the workflow for researchers and data analysts who rely on SurveyCTO. By automating the retrieval of data, attachments, and server metadata, <code>ctoclient</code> allows you to focus on analysis rather than manual data management. Whether you are running daily monitoring dashboards or final impact evaluations, this tool ensures your data pipeline is reproducible and reliable.</p>
<p>We welcome contributions from the community! If you encounter a bug, have a feature request, or want to improve the documentation, please feel free to open an issue or submit a pull request.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the stable version of ctoclient:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ctoclient"</span><span class="op">)</span></span></code></pre></div>
<p>or development version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"GutUrago/ctoclient"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or </span></span>
<span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"GutUrago/ctoclient"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setup--authentication">Setup &amp; Authentication<a class="anchor" aria-label="anchor" href="#setup--authentication"></a>
</h2>
<p>To avoid hard-coding credentials in your scripts, it is highly recommended to store your SurveyCTO server details in your .Renviron file.</p>
<ol style="list-style-type: decimal">
<li>Run usethis::edit_r_environ() to open your environment file.</li>
<li>Add your credentials:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SERVER</span><span class="op">=</span><span class="st">"myorganization.surveycto.com"</span></span>
<span><span class="va">USER</span><span class="op">=</span><span class="st">"myemail@example.com"</span></span>
<span><span class="va">PASS</span><span class="op">=</span><span class="st">"mypassword"</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Restart R.</li>
</ol>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="id_1-connect-to-the-server">1. Connect to the Server<a class="anchor" aria-label="anchor" href="#id_1-connect-to-the-server"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://guturago.github.io/ctoclient/">ctoclient</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Connect using environment variables (recommended)</span></span>
<span><span class="fu"><a href="reference/cto_connect.html">cto_connect</a></span><span class="op">(</span></span>
<span>  server    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SERVER"</span><span class="op">)</span>,</span>
<span>  user      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"USER"</span><span class="op">)</span>,</span>
<span>  password  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"PASS"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Verify connection</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="reference/cto_connect.html">cto_is_connected</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Successfully connected to SurveyCTO!"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-working-with-forms-and-data">2. Working with Forms and Data<a class="anchor" aria-label="anchor" href="#id_2-working-with-forms-and-data"></a>
</h3>
<p>Download form definitions, raw data, and attachments. Export functions with cto_*</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all available forms</span></span>
<span><span class="va">forms</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cto_metadata.html">cto_form_ids</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get metadata form for specific form</span></span>
<span><span class="fu"><a href="reference/cto_form_metadata.html">cto_form_metadata</a></span><span class="op">(</span><span class="st">'myform'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download data for a specific form</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cto_form_data.html">cto_form_data</a></span><span class="op">(</span><span class="st">"myform"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download form submission medias</span></span>
<span><span class="fu"><a href="reference/cto_form_data_attachment.html">cto_form_data_attachment</a></span><span class="op">(</span><span class="st">'myform'</span>, <span class="fu">ends_with</span><span class="op">(</span><span class="st">'_img'</span><span class="op">)</span>, <span class="st">"mykey"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download the default form import do-file</span></span>
<span><span class="fu"><a href="reference/cto_form_languages.html">cto_form_stata_template</a></span><span class="op">(</span><span class="st">'myform'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build custom Stata import do-file</span></span>
<span><span class="fu"><a href="reference/cto_form_dofile.html">cto_form_dofile</a></span><span class="op">(</span><span class="st">'myform'</span>, <span class="st">"form.do"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download attachments (e.g., photos, audio)</span></span>
<span><span class="fu"><a href="reference/cto_form_attachment.html">cto_form_attachment</a></span><span class="op">(</span><span class="st">"myform"</span>, dir <span class="op">=</span> <span class="st">"data/attachments"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_3-server-datasets">3. Server Datasets<a class="anchor" aria-label="anchor" href="#id_3-server-datasets"></a>
</h3>
<p>Manage server-side datasets.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List existing datasets</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cto_dataset_list.html">cto_dataset_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create server dataset</span></span>
<span><span class="fu"><a href="reference/cto_dataset_create.html">cto_dataset_create</a></span><span class="op">(</span><span class="st">"mydata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Upload a local CSV to a server dataset</span></span>
<span><span class="fu"><a href="reference/cto_dataset_create.html">cto_dataset_upload</a></span><span class="op">(</span><span class="st">"mydata"</span>, <span class="st">"data/mydata.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download a server dataset to a local file</span></span>
<span><span class="fu"><a href="reference/cto_dataset_download.html">cto_dataset_download</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"data/downloads"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Purge server dataset</span></span>
<span><span class="fu"><a href="reference/cto_dataset_delete.html">cto_dataset_purge</a></span><span class="op">(</span><span class="st">"mydata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Delete server dataset</span></span>
<span><span class="fu"><a href="reference/cto_dataset_delete.html">cto_dataset_delete</a></span><span class="op">(</span><span class="st">"mydata"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-utilities-and-metadata">4. Utilities and Metadata<a class="anchor" aria-label="anchor" href="#id_4-utilities-and-metadata"></a>
</h3>
<p>Retrieve server configuration and helper files.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get server metadata</span></span>
<span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cto_metadata.html">cto_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate a Stata template for a form</span></span>
<span><span class="fu"><a href="reference/cto_form_languages.html">cto_form_languages</a></span><span class="op">(</span><span class="st">"myform"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get a printable version of the form</span></span>
<span><span class="fu"><a href="reference/cto_form_languages.html">cto_form_printable</a></span><span class="op">(</span><span class="st">"myform"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get a mail-merge template of the form</span></span>
<span><span class="va">cto_form_mail_template</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>This package is an independent, open-source project. It is not affiliated with, endorsed by, or maintained by SurveyCTO or Dobility, Inc. Use it at your own risk, and always ensure you handle survey credentials and participant data securely.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/guturago/ctoclient/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/guturago/ctoclient/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ctoclient</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Gutama Girja Urago <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0001-5588-2301" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/GutUrago/ctoclient/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/GutUrago/ctoclient/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.18107568" class="external-link"><img src="https://zenodo.org/badge/1121002963.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gutama Girja Urago.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
