% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cto_dataset_create.R
\name{cto_dataset_create}
\alias{cto_dataset_create}
\alias{cto_dataset_upload}
\title{Create or Upload to Server Datasets}
\usage{
cto_dataset_create(
  id,
  title = id,
  parent_group_id = 1,
  discriminator = c("data", "cases", "enumerators"),
  unique_record_field = NULL
)

cto_dataset_upload(
  file,
  id,
  upload_mode = c("append", "merge", "clear"),
  joining_field = NULL
)
}
\arguments{
\item{id}{String. The unique identifier for the dataset (e.g., "household_data").}

\item{title}{String. The display title of the dataset. Defaults to \code{id}.}

\item{parent_group_id}{Integer. The ID of the group the dataset belongs to. Defaults to \code{1}.}

\item{discriminator}{String. The type of dataset to create. Options are:
\itemize{
\item \code{"data"}: Standard server dataset.
\item \code{"cases"}: Case management dataset.
\item \code{"enumerators"}: Enumerator dataset.
}}

\item{unique_record_field}{String (Optional). The name of the field that
uniquely identifies records. Required if \code{upload_mode} is "merge".}

\item{file}{String. Path to the local CSV file to upload.}

\item{upload_mode}{String. How the data should be handled:
\itemize{
\item \code{"append"}: Add new rows to the existing data.
\item \code{"merge"}: Update existing rows based on the \code{joining_field} and add new ones.
\item \code{"clear"}: Wipe existing data before uploading.
}}

\item{joining_field}{String (Optional). The column name used to match records
during a "merge". Often the same as \code{unique_record_field}.}
}
\value{
A list containing the API response (metadata for creation, or job summary for upload).
}
\description{
These functions manage the lifecycle of SurveyCTO server datasets: creating the
container definition and populating it with data.
\itemize{
\item \code{cto_dataset_create()}: Defines a new empty dataset container on the server.
\item \code{cto_dataset_upload()}: Uploads a CSV file to an existing dataset.
}
}
\examples{
\dontrun{
# --- Approach 1: Granular Control ---
# 1. Create the container
cto_dataset_create(
id = "hh_data",
title = "Household Data",
unique_record_field = "hh_id"
)

# 2. Upload data to it
cto_dataset_upload(
file = "data.csv",
id = "hh_data",
upload_mode = "merge",
joining_field = "hh_id"
)
}
}
\seealso{
Other Dataset Management Functions: 
\code{\link{cto_dataset_delete}()},
\code{\link{cto_dataset_download}()},
\code{\link{cto_dataset_info}()},
\code{\link{cto_dataset_list}()}
}
\concept{Dataset Management Functions}
