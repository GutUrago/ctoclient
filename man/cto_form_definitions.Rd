% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cto_form_definitions.R
\name{cto_form_definitions}
\alias{cto_form_definitions}
\title{Download SurveyCTO Form Definitions}
\usage{
cto_form_definitions(req, form_id, deployed_only = TRUE)
}
\arguments{
\item{req}{A \code{httr2_request} object initialized via \code{\link{cto_request}()}.}

\item{form_id}{String. The unique ID of the SurveyCTO form.}

\item{deployed_only}{Logical. If \code{TRUE} (default), only the currently deployed
form version is retrieved. If \code{FALSE}, all available historical versions are
downloaded and parsed.}
}
\value{
a \code{list}. If \code{deployed_only = TRUE}, the list contains three data frames.
}
\description{
Downloads the XLSForm definition for a specified SurveyCTO form.
}
\details{
The XLSForm file is downloaded from the SurveyCTO server and parsed using
\pkg{openxlsx2}. The returned object contains the three core XLSForm sheets
required to understand form structure and logic:
\code{survey}, \code{choices}, and \code{settings}.

When \code{deployed_only = FALSE}, each form version is returned as a separate
list element, named using the corresponding form version identifier.
}
\examples{
\dontrun{
# Initialize a SurveyCTO request
req <- cto_request("my-org", "user@org.com")

# Download the currently deployed version of a form
form_def <- cto_form_definitions(req, form_id = "household_survey")

# Download all historical versions of the form
all_defs <- cto_form_definitions(
  req,
  form_id = "household_survey",
  deployed_only = FALSE
)
}
}
